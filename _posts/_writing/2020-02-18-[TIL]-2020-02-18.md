---
layout: post
title: "[TIL] 2020-02-18"
date: 2020-02-18
categories: TIL
tags: TIL
comments: true
---

## Today I Learned
- 안드로이드는 하나의 UI 스레드만을 가지는데 60fps로 화면을 유지시키려면 프레임 사이에 있는 모든 작업이 17ms(각 프레임 시간 간격)안에 끝나야 한다. 따라서 메인 스레드에서는 최소한의 작업을 해야 하고 시간이 오래 걸리는 작업은 다른 스레드에서 해야 한다. 이렇게 하려면 결과값을 다른 스레드에서 가져와서 UI를 바꿔야하는데 안드로이드에서는 이러한 비동기 작업(Async Task)를 지원한다. 즉, 비동기작업은 백그라운드 스레드에서 작업을 하는 동안에 UI 스레드가 화면을 만들 수 있도록 해준다.
- 그렇다면 스레드는 무엇인가?
  
  - 프로세스는 실행중인 프로그램을 의미하는데, 스레드는 프로세스 내에서 별도의 실행흐름을 갖는 대상이다. 이 프로세스 내에서 둘 이상의 스레드를 생성하는 것이 가능하다. 
  - 예를 들면 자바의 main()함수도 하나의 프로세스인데 Thread라는 클래스를 상속받는 클래스를 하나 만들면 이 클래스는 main과 다른 또 하나의 실행 흐름이 생기는 것이다.
  
- 안드로이드의 UI 스레드에는 다른 프로세스에게 실행 가능한 오브젝트나 메시지를 전달할 수 있는 Message Queue와 Handler가 존재한다. 비동기작업은 제네릭 클래스라서 생성자(constructor)에서 매개변수화 타입(parameterized types)을 받는다. 각각의 제네릭 파라미터는 세 개의 점(...)이 붙는 Java 변수화 전달인자가 쓰이는데 이는 기술적으로 배열을 넘겨준다는 의미이다.

- 안드로이드에서 비동기작업은 아래의 세개의 타입을 받는다고 한다.
  - Params: 작업 실행을 위한 파라미터의 타입
  - Progress: 백그라운드 작업 진행률을 업데이트 하기 위한 타입
  - result: 백그라운드 작업의 결과값의 타입
  
  이 세가지 타입은 비동기함수에서 오버라이딩 할 수 있는 아래의 세 가지의 주요 함수에 대응된다.
  - doInBackground
  - onProgressUpdate
  - onPostExecute 